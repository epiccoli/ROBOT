%% Calculate nice peak

clc
clear
close all


data = [25 27 28 31  41 137 188 243 216 165  87 32 27 26 23; ...
        28 28 30 40 119 178 215 229 168 124  41 28 26 25 27; ...
        26 27 29 31  44 144 186 238 219 162  93 31 28 28 28; ...
        26 26 27 29  37 118 181 231 234 166 109 32 28 28 24; ...
        25 26 26 31  40 138 197 248 217 155  78 31 26 25 27; ...
        26 26 28 30  37 115 192 238 235 159  99 32 27 27 28; ...
        25 28 29 32  62 160 202 246 193 144  65 30 27 28 25; ...
        25 26 30 34  74 144 215 246 202 159  55 31 26 28 26; ...
        25 27 29 34  63 151 197 242 205 161  59 28 28 27 25];
    
plot(data');

peak_sum = mean(data);

peak = zeros(1,15);
for i=1:8
    peak(i) = (peak_sum(i) + peak_sum(end-i+1))/2;
    peak(end-i+1) = peak(i);
end

peak = (peak)/(max(peak)-min(peak))*255;

% peak = peak/sum(peak) * 120;

peak = round(peak);

hold on;
plot(4:12, peak(4:12), 'k', 'LineWidth', 5);
display(peak(4:12))
